---
layout: post
title: "John Snow: Cholera deaths aggregated by other pump rings"
date: 2020-09-28 12:40:00
image: /assets/img/
description:
main-class: 'demographics'
color:
tags:
- demographics
- points
- <500
- smaller areas
- rates
categories:
twitter_text:
introduction: 'John Snow: Cholera deaths aggregated by other pump rings'
---
<script>
  var map = L.map('map');
  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', { <!--this is the URL for the Nepal Geojson-->
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.light'
	}).addTo(map);

  map.scrollWheelZoom.disable();
  map.touchZoom.disable();
  var enableMapInteraction = function () {
      map.scrollWheelZoom.enable();
      map.touchZoom.enable();
  }
  $('#map').on('click touch', enableMapInteraction);
$('#map').on('mouseout', function(){ map.scrollWheelZoom.disable();});

  var smallIcon = L.icon({
         iconUrl: 'http://www.hckrecruitment.nic.in/images/blue.png',
         iconSize: [16, 16], // size of the icon
         });

   function onEachFeature(feature, layer) {
     //console.log(feature);
     var txt = "";
     for (var fname in feature.properties) {
       txt += fname;
       txt += " : ";
       txt += feature.properties[fname];
       txt += "<br/>";
     }
     layer.bindPopup(txt);
   }


  // load GeoJSON from an external file
  // load GeoJSON from an external file
  $.getJSON("../data/deaths_by_otherrings.geojson",function(data){
    // add GeoJSON layer to the map once the file is loaded
    var json = L.geoJson(data, {
      pointToLayer: function(feature, latlng) {
        
        return L.marker(latlng, {
          icon: smallIcon
        });
      },
      onEachFeature: onEachFeature
    });
    json.addTo(map);
    map.fitBounds(json.getBounds());
  });

</script>

[DOWNLOAD DATA](../data/snow6.zip)

This dataset combined the same two datasets as above: Individual cholera deaths (see deaths) and the five pumps except for the Broad Street pump, extracted from the 6 pumps dataset (see pumps). The dataset contains 35 polygons which represent seven rings that progress in 10-meter increments from each of the 5 pumps (see deaths_by_bsrings). Its variables include an ID for the rings and for the pumps, respectively, the coordinates of the pumps, the cholera death count per ring and the distance from each ring to the closest pump.

|	Variable	| 	Description 	|
|---|---|				
|	ID 	|	Unique ID 	|
|	pump_ID	|	ID of corresponding pump 	|
|	x 	|	X coordinates (in meters) 	|
|	y 	|	Y coordinates (in meters) 	|
|	dist	|	Distance to pump (in meters) 	|
|	deaths	|	Number of deaths per ring 	|


Prepared by ([Center for Spatial Data Science](https://spatial.uchicago.edu/)). Last updated September 28, 2020. Data provided "as is," no warranties.

