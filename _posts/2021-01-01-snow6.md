---
layout: post
title: "John Snow: Pumps"
date: 2021-01-01 11:19:00
image: /assets/img/
description:
main-class: 'demographics'
color:
tags:
- demographics
- points
- <500
- smaller areas
- rates
categories:
twitter_text:
introduction: 'John Snow: the Broad Street pump and the five pumps closest to it'
---
<script>
  var map = L.map('map');
  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', { <!--this is the URL for the Nepal Geojson-->
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.light'
	}).addTo(map);

  map.scrollWheelZoom.disable();
  map.touchZoom.disable();
  var enableMapInteraction = function () {
      map.scrollWheelZoom.enable();
      map.touchZoom.enable();
  }
  $('#map').on('click touch', enableMapInteraction);
$('#map').on('mouseout', function(){ map.scrollWheelZoom.disable();});

  var smallIcon = L.icon({
         iconUrl: 'http://www.hckrecruitment.nic.in/images/blue.png',
         iconSize: [16, 16], // size of the icon
         });

   function onEachFeature(feature, layer) {
     //console.log(feature);
     var txt = "";
     for (var fname in feature.properties) {
       txt += fname;
       txt += " : ";
       txt += feature.properties[fname];
       txt += "<br/>";
     }
     layer.bindPopup(txt);
   }

  // load GeoJSON from an external file
  $.getJSON("../data/pumps.geojson",function(data){
    // add GeoJSON layer to the map once the file is loaded
    var geojsonMarkerOptions = {
    radius: 8,
    fillColor: "#0D0887",
    color: "#000",
    weight: 1,
    opacity: 1,
    fillOpacity: 0.8
};
var json = L.geoJson(data, {
      pointToLayer: function(feature, latlng) {
        
        return L.circleMarker(latlng, geojsonMarkerOptions);
      },
      onEachFeature: onEachFeature
    });
    json.addTo(map);
    map.fitBounds(json.getBounds());
  });

</script>

[DOWNLOAD DATA](../data/snow6.zip)

This dataset contains six points that represent the Broad Street pump and the five pumps closest to it. Originally, the dataset compiled by Wilson (2011) consisted of eight observations, two of which were removed because they showed no deaths in their vicinity (see dataset [deaths_by_otherrings](https://geodacenter.github.io/data-and-lab/snow5/)). We assume that the spatial extent of the deaths data does not include the other pumps. Variables include an ID for the pumps, their coordinates, and their names.


The documentation is available at:

[DOWNLOAD DOCUMENTATION](../data/snow_documentation.pdf)

The Geoda script is available at:

[DOWNLOAD GEODA SCRIPT](../data/geoda_scripts_snow.pdf)


**Overview of data**

|	Variable	  | 	Description 	           |
|---|---|
|	ID 	        |	Pump ID 	                 |
|	name 	      |	Name of the pump	         |
|COORD_X| X-coordinate in meters (see documentation for projection details). |
|COORD_Y| Y-coordinate in meters (see documentation for projection details). |



**References**

Wilson, R (2011). John Snow’s Cholera data in more formats. [http://blog.rtwilson.com/john-snows-cholera-data-in-more-formats/](http://blog.rtwilson.com/john-snows-cholera-data-in-more-formats/). Reprojected data can also be downloaded from Dani Arribas-Bel’s ‘reproducible john snow’ BitBucket repository at [https://bitbucket.org/darribas/reproducible_john_snow/src/master/](https://bitbucket.org/darribas/reproducible_john_snow/src/master/).

* * * * *

<br />

Prepared by [Center for Spatial Data Science](https://spatial.uchicago.edu/). Last updated February 1, 2021. Data provided "as is," no warranties.

