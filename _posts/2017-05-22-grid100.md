---
layout: post
title: "Simulated Spatial Autocorrelation"
date: 2017-07-18 16:10:16
image: /assets/img/
description:
main-class: 'simulation'
color:
tags:
- polygons
- <500
- ESDA
- textbook
categories:
twitter_text:
introduction: "10x10 Grid of simulated random variables with spatial autocorrelation."
---

<script>
var map = L.map('map');
L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', { <!--this is the URL for the Nepal Geojson-->
maxZoom: 18,
attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
'Imagery © <a href="http://mapbox.com">Mapbox</a>',
id: 'mapbox.light'
}).addTo(map);

map.scrollWheelZoom.disable();
map.touchZoom.disable();
var enableMapInteraction = function () {
map.scrollWheelZoom.enable();
map.touchZoom.enable();
}
$('#map').on('click touch', enableMapInteraction);
$('#map').on('mouseout', function(){ map.scrollWheelZoom.disable();});
$('#map').on('mouseout', function(){ map.scrollWheelZoom.disable();});

var smallIcon = L.icon({
iconUrl: 'http://www.hckrecruitment.nic.in/images/blue.png',
iconSize: [16, 16], // size of the icon
});

function onEachFeature(feature, layer) {
//console.log(feature);
var txt = "";
for (var fname in feature.properties) {
txt += fname;
txt += " : ";
txt += feature.properties[fname];
txt += "<br/>";
}
layer.bindPopup(txt);
}


// load GeoJSON from an external file
// load GeoJSON from an external file
$.getJSON("../data/grid100.geojson",function(data){
// add GeoJSON layer to the map once the file is loaded
var json = L.geoJson(data, {
pointToLayer: function(feature, latlng) {

return L.marker(latlng, {
icon: smallIcon
});
},
onEachFeature: onEachFeature
});
json.addTo(map);
map.fitBounds(json.getBounds());
});

</script>


Simulated random variables with spatial autocorrelation, on 10x10 grid.

* Observations = 100
* Variables = 34

**Source**
 The grid was created in GeoDa. The variables were simulated using R and its spdep package.

|**Variable|**Description**|
|---|---|
|PolyID |Grid cell identifier |
|z|Random variables for standard normal distribution |
|zmaxx|Standard normal variates transformed to follow a spatial moving average with parameter xx (xx is 02, 05, 07, 09 for 0.2, 0.5, 0.7, 0.9) |
|ranzmaxx |Randomly permuted observations matching the variable zmaxx |
|zmanxx |Standard normal variates transformed to follow a spatial moving average with negative parameter xx (same as above) |
|ranzmanxx |Randomly permuted counterpart of zmanxx |
|zarxx |Standard normal variates transformed to follow a spatial autoregressive process with parameter xx (same as above) |
|ranzarxx |Randomly permuted counterpart of zarxx |
|zarnxx |Standard normal variates transformed to follow a spatial autoregressive process with negative parameter xx (same as above) |
|ranzarnxx |Randomly permuted counterpart of zarnxx |


Prepared by Luc Anselin. Last updated June 3, 2004. Data provided "as is," no warranties.
