---
layout: post
title: "John Snow: Sewer grates and ventilators"
date: 2020-11-14 11:20:00
image: /assets/img/
description:
main-class: 'demographics'
color:
tags:
- demographics
- points
- <500
- smaller areas
- rates
categories:
twitter_text:
introduction: 'John Snow: Sewer grates and ventilators'
---
<script>
  var map = L.map('map');
  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', { <!--this is the URL for the Nepal Geojson-->
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.light'
	}).addTo(map);

  map.scrollWheelZoom.disable();
  map.touchZoom.disable();
  var enableMapInteraction = function () {
      map.scrollWheelZoom.enable();
      map.touchZoom.enable();
  }
  $('#map').on('click touch', enableMapInteraction);
$('#map').on('mouseout', function(){ map.scrollWheelZoom.disable();});

  var smallIcon = L.icon({
         iconUrl: 'http://www.hckrecruitment.nic.in/images/blue.png',
         iconSize: [16, 16], // size of the icon
         });

   function onEachFeature(feature, layer) {
     //console.log(feature);
     var txt = "";
     for (var fname in feature.properties) {
       txt += fname;
       txt += " : ";
       txt += feature.properties[fname];
       txt += "<br/>";
     }
     layer.bindPopup(txt);
   }

  // load GeoJSON from an external file
  $.getJSON("../data/sewergrates_ventilators.geojson",function(data){
    // add GeoJSON layer to the map once the file is loaded
    var geojsonMarkerOptions = {
    radius: 8,
    fillColor: "#0D0887",
    color: "#000",
    weight: 1,
    opacity: 1,
    fillOpacity: 0.8
};
var json = L.geoJson(data, {
      pointToLayer: function(feature, latlng) {
        
        return L.circleMarker(latlng, geojsonMarkerOptions);
      },
      onEachFeature: onEachFeature
    });
    json.addTo(map);
    map.fitBounds(json.getBounds());
  });

</script>

[DOWNLOAD DATA](../data/snow8.zip)

This dataset contains 325 points that represent untrapped sewer grates and ventilators in the Soho neighborhood as represented in the [1855 map by the General Board of Health](http://kora.matrix.msu.edu/files/21/120/15-78-1DF-22-1855-GBoH-BrSt-Map.pdf).For each observation, the variables include an ID, the date where the corresponding sewer line was built both as a string and as a categorical value, and a dummy variable that distinguishes untrapped sewer grates (which allowed sewage to get into the sewer lines) from ventilators (which were supposed to pull fresh air into the sewers but about which neighbors complained since foul smells emanated from them). Another dummy variable indicates whether the house was located on top of Craven Estate, a 17th-century pest field, since people thought toxic gases were coming from the field through the untrapped sewer grates and ventilators.

The documentation is available at:

[DOWNLOAD DOCUMENTATION](../data/snow_documentation.pdf)

The Geoda script is available at:

[DOWNLOAD GEODA SCRIPT](../data/geoda_scripts_snow.pdf)


**Overview of data**

|	Variable	| 	Description 	|
|---|---|				
|	ID 	|	Unique ID 	|
|	date 	|	Date where corresponding sewer line was built	|
|	date_code 	|	Date where corresponding sewer line was built as categories: 1=Before 1851, 2=1851, 3=1854	|
|	ventilator 	|	Creates categories depending on whether the observation is a ventilator (1) or an untrapped sewer grate (0)	|
| pestfield | Creates categories depending on whether the sewer grates or ventilator is located on top of the former Craven Estate (1) or not (0) |


* * * * *

<br />

Prepared by [Center for Spatial Data Science](https://spatial.uchicago.edu/). Last updated September 28, 2020. Data provided "as is," no warranties.

